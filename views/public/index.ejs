<%- include('../partials/header') %>

    <% if (typeof sliderItems !=='undefined' && sliderItems && sliderItems.length> 0) { %>
        <section class="slider">
            <% sliderItems.forEach((item, index)=> { %>
                <div class="slide <%= index === 0 ? 'active' : '' %>"
                    style="background-image: url('<%= item.image_base64 %>');">
                    <div class="content">
                        <h2>
                            <%= item.title %>
                        </h2>
                        <p>
                            <%= item.subtitle %>
                        </p>
                        <% if (item.link) { %>
                            <a href="<%= item.link %>" class="btn">Read More</a>
                            <% } %>
                    </div>
                </div>
                <% }) %>
        </section>
        <% } %>

            <section class="posts-container">
                <h1>Recent Posts</h1>
                <div class="grid">
                    <% posts.forEach(post=> { %>
                        <article class="card">
                            <% if (post.image_base64) { %>
                                <img src="<%= post.image_base64 %>" alt="<%= post.title %>">
                                <% } else { %>
                                    <div class="placeholder-img"></div>
                                    <% } %>
                                        <div class="card-content">
                                            <h2><a href="/post/<%= post.slug %>">
                                                    <%= post.title %>
                                                </a></h2>
                                            <p>
                                                <%= post.excerpt %>
                                            </p>
                                            <a href="/post/<%= post.slug %>" class="read-more">Read Article &rarr;</a>
                                        </div>
                        </article>
                        <% }) %>
                </div>
            </section>

            <%- include('../partials/footer') %>